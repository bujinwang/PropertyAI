# Story 7.1: Document Upload and Storage UI

**Status:** Complete

## Acceptance Criteria
- Create a document upload interface with drag-and-drop functionality
- Support multiple file formats (PDF, DOC, DOCX, JPG, PNG, etc.)
- Implement file size validation and type restrictions
- Associate documents with properties, tenants, leases, or maintenance records
- Display upload progress and success/error notifications
- Create document storage list view with file details and preview
- Include document metadata editing (name, description, tags)
- Ensure responsive design across desktop and mobile devices
- Maintain accessibility standards (WCAG 2.1 AA compliance)
- Provide document download and delete functionality

## Dev Notes
No specific guidance found in architecture docs. Infer from backend/prisma/schema.prisma: Assume Document model with fields id (PK), name (string), description (string), fileUrl (string), fileType (string), fileSize (int), uploadedBy (FK to User), propertyId/tenantId/leaseId/maintenanceId (optional FKs), tags (string array), uploadedAt/updatedAt. Relations: Optional many-to-one with Property/Tenant/Lease/Maintenance. No changes to existing models.

API Integration: Extend dashboardService.ts with methods uploadDocument(data), getDocuments(filters), updateDocument(id, data), deleteDocument(id), downloadDocument(id). Use POST /api/documents/upload (multipart), GET /api/documents?search={q}&type={t}&entityId={id}, PUT /api/documents/{id}, DELETE /api/documents/{id}, GET /api/documents/{id}/download. Include auth headers.

UI Patterns: Follow PaymentList/PaymentForm from Story 6.1: Material UI Table for list, Dialog for upload/edit, File input with drag-drop, Progress bar for upload, Autocomplete for entity association. Integrate with existing theme.

Testing: Add unit tests for components (upload validation, list rendering), integration tests for API mocks, snapshot tests. Use Jest/RTL, mock dashboardService.

Constraints: Frontend-only; assume backend handles file storage. No schema changes. Ensure no conflicts with existing routes.

## Tasks
- [ ] Create DocumentList.tsx in src/pages/ with Table, search bar, filter dropdowns, pagination, actions (download/delete).
- [ ] Create DocumentUpload.tsx in src/components/ with drag-drop zone, file input, progress bar, metadata fields.
- [ ] Update dashboardService.ts: Add document API methods with async/await, error parsing.
- [ ] Update App.tsx: Add route for /documents -> DocumentList.
- [ ] Update Layout.tsx: Add sidebar link to /documents.
- [ ] Implement document preview and download functionality.
- [ ] Add Snackbar for notifications.
- [ ] Write tests: DocumentList.test.tsx, DocumentUpload.test.tsx.
- [ ] Validate with story-draft-checklist.md and update status to In Progress.

## Dev Agent Record
[Implementation details to be added after development]